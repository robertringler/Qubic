
FROM nvidia/cuda:12.4.1-devel-ubuntu22.04
RUN apt-get update && apt-get install -y python3 python3-pip python3-dev git cmake g++
WORKDIR /workspace
COPY . .
RUN pip3 install pybind11 numpy
RUN cmake -S . -B build && cmake --build build --parallel
CMD ["python3","-c","import sys; sys.path.append('build'); import quasim_cuda as qc; import numpy as np; x=np.ones(8,dtype=np.float32); y=np.zeros(8,dtype=np.float32); qc.saxpy(x,y,2.0); print(y.tolist())"]
